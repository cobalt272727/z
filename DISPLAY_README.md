# メッセージ表示システム セットアップガイド

## 概要
このシステムは、投稿されたメッセージをリアルタイムで右から左に流れる表示を行います。

## アーキテクチャ
- **メインサーバー (port 3000)**: ツイートを受信してデータベースに保存
- **表示サーバー (port 3001)**: WebSocketサーバー (クライアント接続用)
- **表示サーバー (port 3002)**: HTTPエンドポイント (ブロードキャスト用)
- **display.html**: 任意の場所で開く表示ページ

## セットアップ手順

### 1. 依存パッケージのインストール
```powershell
npm install
```

### 2. 環境変数の設定
`.env`ファイルに以下の設定を追加してください：

```
DISPLAY_PORT=3001                     # WebSocketサーバーのポート
DISPLAY_HTTP_PORT=3002                # HTTPエンドポイントのポート
DISPLAY_SERVER_URL=http://localhost:3002  # ブロードキャスト用URL
```

### 3. サーバーの起動

#### ターミナル1: メインサーバー
```powershell
node server.js
```

#### ターミナル2: 表示サーバー (WebSocketサーバー)
```powershell
node display-server.js
```

### 4. 表示ページを開く
`display.html`をブラウザで直接開いてください（ファイルをダブルクリックまたはブラウザにドラッグ&ドロップ）
- WebSocket接続先: `ws://localhost:3001`

## 使用方法

1. メインサーバー（ポート3000）でツイートを投稿する
2. 投稿されたメッセージが自動的にデータベースに保存される
3. 同時に表示サーバー（ポート3001）にもメッセージが送信される
4. 表示ページで右から左にメッセージが流れる

## 表示ページの特徴

- **背景色**: 黒
- **文字色**: 白
- **アニメーション**: 右から左に15秒かけて流れる
- **WebSocket接続**: リアルタイムでメッセージを受信

## トラブルシューティング

### 表示サーバーに接続できない
- 表示サーバーが起動しているか確認してください
- ポート3001が使用可能か確認してください
- ファイアウォールの設定を確認してください

### メッセージが表示されない
- WebSocket接続が確立されているか確認してください（画面右下の状態表示）
- ブラウザのコンソールでエラーを確認してください
- 両方のサーバーが起動しているか確認してください
